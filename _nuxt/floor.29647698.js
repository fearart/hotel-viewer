import{m as Ce,n as nt,q as le,_ as ke,s as Pe,v as Ae,x as Ne,y as Be,z as he,A as ae,B as Ve,C as ce,o,c as i,a as n,D as T,F as de,E as ut,j as u,G as _e,t as F,i as O,H as it,r as a,I as ge,J as ct,K as dt,L as vt,M as ft,N as mt,O as pt,h as l,w as z,P as we,b as C,k as se,d as D,Q as ie,l as yt,p as ht,f as _t}from"./entry.f456d439.js";import{u as gt,_ as kt}from"./Input.bf4f740e.js";import{_ as bt,a as xt,b as wt,c as Ct,d as Pt,e as At,f as Nt,g as Bt,h as Vt,i as Rt,j as jt,k as Et,l as It}from"./phone-red.e36057f8.js";import{a as $}from"./axios.28bc18a3.js";const zt=Ce(le.ui.strategy,le.ui.divider,nt),$t=Pe({components:{UIcon:Ae,UAvatar:Ne},inheritAttrs:!1,props:{label:{type:String,default:null},icon:{type:String,default:null},avatar:{type:Object,default:null},orientation:{type:String,default:"horizontal",validator:e=>["horizontal","vertical"].includes(e)},type:{type:String,default:"solid",validator:e=>["solid","dotted","dashed"].includes(e)},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},setup(e){const{ui:r,attrs:d}=Be("divider",he(e,"ui"),zt),v=ae(()=>e.orientation==="horizontal"),P=ae(()=>Ve(ce(r.value.wrapper.base,v.value?r.value.wrapper.horizontal:r.value.wrapper.vertical),e.class)),m=ae(()=>ce(r.value.container.base,v.value?r.value.container.horizontal:r.value.container.vertical)),b=ae(()=>{const y={solid:"border-solid",dotted:"border-dotted",dashed:"border-dashed"}[e.type];return ce(r.value.border.base,v.value?r.value.border.horizontal:r.value.border.vertical,v.value?r.value.border.size.horizontal:r.value.border.size.vertical,y)});return{ui:r,attrs:d,wrapperClass:P,containerClass:m,borderClass:b}}});function St(e,r,d,v,P,m){const b=Ae,y=Ne;return o(),i("div",_e({class:e.wrapperClass},e.attrs),[n("div",{class:T(e.borderClass)},null,2),e.label||e.icon||e.avatar||e.$slots.default?(o(),i(de,{key:0},[n("div",{class:T(e.containerClass)},[ut(e.$slots,"default",{},()=>[e.label?(o(),i("span",{key:0,class:T(e.ui.label)},F(e.label),3)):e.icon?(o(),O(b,{key:1,name:e.icon,class:T(e.ui.icon.base)},null,8,["name","class"])):e.avatar?(o(),O(y,_e({key:2},{size:e.ui.avatar.size,...e.avatar},{class:e.ui.avatar.base}),null,16,["class"])):u("",!0)])],2),n("div",{class:T(e.borderClass)},null,2)],64)):u("",!0)],16)}const Ot=ke($t,[["render",St]]),S=Ce(le.ui.strategy,le.ui.textarea,it),Tt=Pe({inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rows:{type:Number,default:3},autoresize:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},resize:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(S.size).includes(e)}},color:{type:String,default:()=>S.default.color,validator(e){return[...le.ui.colors,...Object.keys(S.color)].includes(e)}},variant:{type:String,default:()=>S.default.variant,validator(e){return[...Object.keys(S.variant),...Object.values(S.color).flatMap(r=>Object.keys(r))].includes(e)}},textareaClass:{type:String,default:null},class:{type:[String,Object,Array],default:void 0},ui:{type:Object,default:void 0}},emits:["update:modelValue","blur"],setup(e,{emit:r}){const{ui:d,attrs:v}=Be("textarea",he(e,"ui"),S,he(e,"class")),{emitFormBlur:P,emitFormInput:m,inputId:b,color:y,size:Y,name:I}=gt(e,S),h=a(null),q=()=>{var f;e.autofocus&&((f=h.value)==null||f.focus())},x=()=>{if(e.autoresize){if(!h.value)return;h.value.rows=e.rows;const f=window.getComputedStyle(h.value),U=parseInt(f.paddingTop),_=parseInt(f.paddingBottom),A=U+_,g=parseInt(f.lineHeight),{scrollHeight:N}=h.value,w=(N-A)/g;w>e.rows&&(h.value.rows=w)}},oe=f=>{x(),r("update:modelValue",f.target.value),m()},K=f=>{r("blur",f),P()};ge(()=>{setTimeout(()=>{q()},e.autofocusDelay)}),ct(()=>e.modelValue,()=>{dt(x)}),ge(()=>{setTimeout(()=>{q(),x()},100)});const re=ae(()=>{var U,_;const f=((_=(U=d.value.color)==null?void 0:U[y.value])==null?void 0:_[e.variant])||d.value.variant[e.variant];return Ve(ce(d.value.base,d.value.rounded,d.value.placeholder,d.value.size[Y.value],e.padded?d.value.padding[Y.value]:"p-0",f==null?void 0:f.replaceAll("{color}",y.value),!e.resize&&"resize-none"),e.textareaClass)});return{ui:d,attrs:v,name:I,inputId:b,textarea:h,textareaClass:re,onInput:oe,onBlur:K}}}),Yt=["id","value","name","rows","required","disabled","placeholder"];function Ut(e,r,d,v,P,m){return o(),i("div",{class:T(e.ui.wrapper)},[n("textarea",_e({id:e.inputId,ref:"textarea",value:e.modelValue,name:e.name,rows:e.rows,required:e.required,disabled:e.disabled,placeholder:e.placeholder,class:["form-textarea",e.textareaClass]},e.attrs,{onInput:r[0]||(r[0]=(...b)=>e.onInput&&e.onInput(...b)),onBlur:r[1]||(r[1]=(...b)=>e.onBlur&&e.onBlur(...b))}),null,16,Yt)],2)}const Gt=ke(Tt,[["render",Ut]]);const H=e=>(ht("data-v-621addad"),e=e(),_t(),e),Mt={class:"flex flex-col p-4 items-center w-full"},Lt={class:"flex flex-col"},Dt={class:"text-3xl justify-center w-full"},Ft={key:1,class:"grid 2xl:grid-cols-12 xl:grid-cols-10 grid-cols-6 w-full place-items-center justify-center h-full"},Ht=["onClick"],qt=H(()=>n("span",{class:"text-center text-6xl"},"+",-1)),Kt=[qt],Jt={key:3,class:"grid 2xl:grid-cols-12 xl:grid-cols-10 grid-cols-6 w-full place-items-center justify-center h-full"},Qt=["onClick"],Wt=H(()=>n("span",{class:"text-center text-6xl"},"+",-1)),Xt=[Wt],Zt={key:5,class:"grid 2xl:grid-cols-12 xl:grid-cols-10 grid-cols-6 w-full place-items-center justify-center h-full"},es=H(()=>n("span",{class:"text-center text-6xl"},"+",-1)),ts=[es],ss=H(()=>n("button",null,null,-1)),as={class:"flex justify-center flex-col items-center p-6"},ls={class:"m-2 flex flex-col"},os={class:"flex flex-row"},rs={class:"pr-2"},ns={class:"pr-2"},us={class:"flex flex-row"},is={class:"pr-2"},cs={class:"w-full justify-between flex mt-4"},ds={class:"flex flex-col mx-4 2xl:mx-0"},vs=H(()=>n("button",null,null,-1)),fs={class:"flex justify-center flex-col items-center p-6"},ms={class:"w-full justify-between flex mt-4"},ps=H(()=>n("div",{class:"flex flex-col mx-4 2xl:mx-0"},null,-1)),ys={__name:"floor",setup(e){const r=a(0),d=a(null),v=a([]),P=a([]),m=a([]),b=a([]);a([]);const y=a({}),Y=a(!1),I=a(!1),h=a(!1),q=a(!1),x=a(!1),oe=a(!1),K=a(!1),re=a(!1),f=a(!1),U=a(!1);a(!1);const _=a(!1),A=a(!1),g=a(!1),N=a(!1),w=a(!1),J=a(0),Re=a(0),B=a("NoData"),V=a("NoData"),R=a("NoData"),j=a("NoData"),Q=a("NoData"),W=a("NoData"),k=a({}),M=a(!1),L=a(!1);a(!1);const X=a(!1),Z=a(!1),ee=a(!1);ge(()=>{const s=vt("token").value;s==null?ft("/login"):$.post("/api/users/permissions",{token:s}).then(p=>{Object.keys(p.data).length===0?y.value={root:!1,admin:!1}:(y.value=p.data,Y.value=y.value.admin)});const t=mt().query;r.value=t.floor_number,te()});const te=()=>{$.get("api/floors/").then(s=>{let t=s.data.body;d.value=t.find(p=>p.floor_number==r.value),typeof d.value.rooms!==void 0&&(v.value=d.value.rooms,v.value.sort((p,E)=>p.room_number-E.room_number),P.value=v.value),(typeof d.value.cinemas!==void 0||y.admin===!0||y.root===!0)&&(y.value.admin===!0||y.value.root===!0||typeof d.value.cinemas===Array)&&(q.value=!0),typeof d.value.conference_rooms!==void 0&&(oe.value=!0),typeof d.value.restaurants!==void 0&&(re.value=!0),typeof d.value.playrooms===Array&&(U.value=!0),typeof d.value.corridor!==void 0&&(m.value=d.value.corridor,m.value.sort((p,E)=>p.AccessPointNumber-E.AccessPointNumber),b.value=m.value)}).catch(s=>{console.log(s)})},je=s=>{let t=v.value[s];return t.hasTV==="Yes"&&t.hasPhone==="Yes"&&t.hasBathPhone==="Yes"&&t.hasAccessPoint==="Yes"?"bg-green-500":t.hasTV==="No"||t.hasPhone==="No"||t.hasBathPhone==="No"||t.hasAccessPoint==="No"?"bg-red-500":"bg-gray-500"},Ee=s=>{Re.value=r,s=v.value[s].room_number,$.post("/api/rooms/info",{floor_number:r.value,room_number:s}).then(t=>{j.value=t.data.hasAccessPoint,R.value=t.data.hasBathPhone,V.value=t.data.hasPhone,B.value=t.data.hasTV,Q.value=t.data.comment,W.value=t.data.macAddress}),J.value=s,M.value=!0},Ie=s=>m.value[s].macAddress===""?"bg-gray-500":"bg-green-500",ze=s=>{console.log(s),s=m.value[s].accessPointNumber,console.log(s),$.post("/api/corridors/info",{floor_number:r.value,corridor_number:s}).then(t=>{k.value.accessPointNumber=s,k.value.macAddress=t.data.macAddress,k.value.comment=t.data.comment}),k.value.AccessPointNumber=s,L.value=!0},ve=()=>{B.value==="unknown"?B.value="Yes":B.value==="Yes"?B.value="No":B.value="unknown"},fe=()=>{j.value==="unknown"?j.value="Yes":j.value==="Yes"?j.value="No":j.value="unknown"},me=()=>{V.value==="unknown"?V.value="Yes":V.value==="Yes"?V.value="No":V.value="unknown"},pe=()=>{R.value==="unknown"?R.value="Yes":R.value==="Yes"?R.value="No":R.value="unknown"},$e=()=>B.value==="Yes",Se=()=>B.value==="unknown",Oe=()=>B.value==="No",Te=()=>V.value==="Yes",Ye=()=>V.value==="unknown",Ue=()=>V.value==="No",Ge=()=>R.value==="Yes",Me=()=>R.value==="unknown",Le=()=>R.value==="No",De=()=>j.value==="Yes",Fe=()=>j.value==="unknown",He=()=>j.value==="No",qe=()=>{$.post("/api/rooms/modify",{floor_number:r.value,room_number:J.value,hasAccessPoint:j.value,hasBathPhone:R.value,hasPhone:V.value,hasTV:B.value,comment:Q.value,macAddress:W.value}).then(s=>{te(),M.value=!1})},Ke=()=>{$.post("/api/corridors/modify",{floor_number:r.value,accessPointNumber:k.value.AccessPointNumber,macAddress:k.value.macAddress,comment:k.value.comment}).then(s=>{te(),L.value=!1})},Je=()=>{$.put("/api/rooms/create",{floor_number:r.value}).then(s=>{te()})},be=()=>{$.put("/api/corridors/create",{floor_number:r.value}).then(s=>{te()})},Qe=()=>{I.value===!0?(I.value=!1,_.value=!1,A.value=!1,N.value=!1,w.value=!1):(I.value=!0,_.value=!0,A.value=!0,N.value=!0,w.value=!0,x.value=!1)},We=()=>{h.value===!0?(h.value=!1,_.value=!1,g.value=!1,N.value=!1,w.value=!1):(h.value=!0,_.value=!0,g.value=!0,N.value=!0,w.value=!0,x.value=!1)},Xe=()=>{x.value===!0?(x.value=!1,A.value=!1,g.value=!1,N.value=!1,w.value=!1):(x.value=!0,A.value=!0,g.value=!0,N.value=!0,w.value=!0,h.value=!1,I.value=!1)},Ze=()=>{K.value===!0?(K.value=!1,_.value=!1,g.value=!1,A.value=!1,w.value=!1):(K.value=!0,_.value=!0,g.value=!0,A.value=!0,w.value=!0,x.value=!1)},et=()=>{f.value===!0?(f.value=!1,_.value=!1,g.value=!1,N.value=!1,A.value=!1):(f.value=!0,_.value=!0,g.value=!0,N.value=!0,A.value=!0,x.value=!1)},tt=()=>{X.value=!X.value,ye()},st=()=>{Z.value=!Z.value,ye()},at=()=>{ee.value=!ee.value,ye()},ye=()=>{v.value=[],m.value=[],X.value&&P.value.forEach(s=>{s.hasAccessPoint,s.hasBathPhone,s.hasPhone,s.hasTV==="Yes"&&v.value.push(s)}),Z.value&&P.value.forEach(s=>{s.hasAccessPoint,s.hasBathPhone,s.hasPhone,s.hasTV==="No"&&v.value.push(s)}),ee.value&&P.value.forEach(s=>{s.hasAccessPoint,s.hasBathPhone,s.hasPhone,s.hasTV==="unknown"&&v.value.push(s)}),!X.value&&!Z.value&&!ee.value&&(v.value=P.value,m.value=b.value),v.value.sort((s,t)=>s.room_number-t.room_number),m.value.sort((s,t)=>s.AccessPointNumber-t.AccessPointNumber),lt()},lt=()=>{X.value?(document.getElementById("green-filter").classList.add("outline"),document.getElementById("green-filter").classList.add("outline-sky-500")):(document.getElementById("green-filter").classList.remove("outline"),document.getElementById("green-filter").classList.remove("outline-sky-500")),Z.value?(document.getElementById("red-filter").classList.add("outline"),document.getElementById("red-filter").classList.add("outline-sky-500")):(document.getElementById("red-filter").classList.remove("outline"),document.getElementById("red-filter").classList.remove("outline-sky-500")),ee.value?(document.getElementById("gray-filter").classList.add("outline"),document.getElementById("gray-filter").classList.add("outline-sky-500")):(document.getElementById("gray-filter").classList.remove("outline"),document.getElementById("gray-filter").classList.remove("outline-sky-500"))};return(s,t)=>{const p=Ot,E=kt,ne=yt,ot=Gt,xe=bt,ue=pt("maska");return o(),i(de,null,[n("div",Mt,[n("div",Lt,[n("h1",Dt,"PiÄ™tro "+F(l(r)),1),n("div",{class:"flex flex-row justify-between"},[n("div",{id:"green-filter",class:"w-4 h-4 bg-green-500 rounded-sm cursor-pointer",onClick:tt}),n("div",{id:"red-filter",class:"w-4 h-4 bg-red-500 rounded-sm cursor-pointer",onClick:st}),n("div",{id:"gray-filter",class:"w-4 h-4 bg-gray-500 rounded-sm cursor-pointer",onClick:at})])]),l(g)?u("",!0):(o(),O(p,{key:0,class:"prevent-select my-4 cursor-pointer",onClick:Qe},{default:z(()=>[D("Pokoje ["+F(l(v).length)+"]",1)]),_:1})),l(I)&&!l(g)?(o(),i("div",Ft,[l(I)&&!l(g)?(o(!0),i(de,{key:0},we(l(v),(c,G)=>(o(),i("div",{key:G,class:T(["mb-3 room-card text-white flex items-center justify-center rounded-lg cursor-pointer w-12 h-12 xl:w-24 xl:h-24 text-sm xl:text-sm 2xl:text-2xl flex-grow bg-gray-500",je(G)]),onClick:rt=>Ee(G)},F(c.room_number),11,Ht))),128)):u("",!0),l(Y)?(o(),i("div",{key:1,class:"xl:w-24 xl:h-24 w-12 h-12 mb-3 room-card bg-gray-500 text-white flex items-center justify-center rounded-lg cursor-pointer",onClick:t[0]||(t[0]=c=>Je())},Kt)):u("",!0)])):u("",!0),l(A)?u("",!0):(o(),O(p,{key:2,class:"prevent-select my-4 cursor-pointer",onClick:We},{default:z(()=>[D("Korytarz ["+F(l(m).length)+" AP]",1)]),_:1})),l(h)?(o(),i("div",Jt,[l(h)?(o(!0),i(de,{key:0},we(l(m),(c,G)=>(o(),i("div",{key:G,class:T(["mb-3 room-card text-white flex items-center justify-center rounded-lg cursor-pointer w-12 h-12 xl:w-24 xl:h-24 text-sm xl:text-sm 2xl:text-2xl flex-grow bg-gray-500",Ie(G)]),onClick:rt=>ze(G)},F(c.accessPointNumber),11,Qt))),128)):u("",!0),l(Y)?(o(),i("div",{key:1,class:"xl:w-24 xl:h-24 w-12 h-12 mb-3 room-card bg-gray-500 text-white flex items-center justify-center rounded-lg cursor-pointer",onClick:t[1]||(t[1]=c=>be())},Xt)):u("",!0)])):u("",!0),l(q)&&!l(_)?(o(),O(p,{key:4,class:"prevent-select my-4 cursor-pointer",onClick:Xe},{default:z(()=>[D("Kina")]),_:1})):u("",!0),l(x)?(o(),i("div",Zt,[l(Y)?(o(),i("div",{key:0,class:"xl:w-24 xl:h-24 w-12 h-12 mb-3 room-card bg-gray-500 text-white flex items-center justify-center rounded-lg cursor-pointer",onClick:t[2]||(t[2]=c=>be())},ts)):u("",!0)])):u("",!0),l(oe)&&!l(N)?(o(),O(p,{key:6,class:"prevent-select my-4 cursor-pointer",onClick:Ze},{default:z(()=>[D("Sale konferencyjne")]),_:1})):u("",!0),l(re)&&!l(w)?(o(),O(p,{key:7,class:"prevent-select my-4 cursor-pointer",onClick:et},{default:z(()=>[D("Restauracje")]),_:1})):u("",!0),l(U)?(o(),O(p,{key:8,class:"prevent-select my-4 cursor-pointer"},{default:z(()=>[D("Bawialni")]),_:1})):u("",!0)]),C(xe,{modelValue:l(M),"onUpdate:modelValue":t[7]||(t[7]=c=>se(M)?M.value=c:null),class:"w-60",ui:{container:"items-start"}},{default:z(()=>[ss,n("div",as,[ie(C(E,{modelValue:l(J),"onUpdate:modelValue":t[3]||(t[3]=c=>se(J)?J.value=c:null),"data-maska":"#####",class:"text-xl w-24 mb-2",placeholder:"Room number"},null,8,["modelValue"]),[[ue]]),ie(C(E,{modelValue:l(W),"onUpdate:modelValue":t[4]||(t[4]=c=>se(W)?W.value=c:null),"data-maska":"**:**:**:**:**:**",placeholder:"MAC:Address"},null,8,["modelValue"]),[[ue]]),n("div",ls,[n("div",os,[n("div",rs,[De()?(o(),i("img",{key:0,src:xt,onClick:fe,class:"cursor-pointer"})):u("",!0),Fe()?(o(),i("img",{key:1,src:wt,onClick:fe,class:"cursor-pointer"})):u("",!0),He()?(o(),i("img",{key:2,src:Ct,onClick:fe,class:"cursor-pointer"})):u("",!0)]),n("div",ns,[$e()?(o(),i("img",{key:0,src:Pt,onClick:ve,class:"cursor-pointer"})):u("",!0),Se()?(o(),i("img",{key:1,src:At,onClick:ve,class:"cursor-pointer"})):u("",!0),Oe()?(o(),i("img",{key:2,src:Nt,onClick:ve,class:"cursor-pointer"})):u("",!0)])]),n("div",us,[n("div",is,[Ge()?(o(),i("img",{key:0,src:Bt,onClick:pe,class:"cursor-pointer"})):u("",!0),Me()?(o(),i("img",{key:1,src:Vt,onClick:pe,class:"cursor-pointer"})):u("",!0),Le()?(o(),i("img",{key:2,src:Rt,onClick:pe,class:"cursor-pointer"})):u("",!0)]),n("div",null,[Te()?(o(),i("img",{key:0,src:jt,onClick:me,class:"cursor-pointer"})):u("",!0),Ye()?(o(),i("img",{key:1,src:Et,onClick:me,class:"cursor-pointer"})):u("",!0),Ue()?(o(),i("img",{key:2,src:It,onClick:me,class:"cursor-pointer"})):u("",!0)])])]),n("div",cs,[C(ne,{label:"Submit",onClick:qe}),n("div",ds,[C(ot,{modelValue:l(Q),"onUpdate:modelValue":t[5]||(t[5]=c=>se(Q)?Q.value=c:null),placeholder:"Comment",class:"pb-2",size:"xs"},null,8,["modelValue"])]),C(ne,{label:"Cancel",color:"red",onClick:t[6]||(t[6]=c=>M.value=!1)})])])]),_:1},8,["modelValue"]),C(xe,{modelValue:l(L),"onUpdate:modelValue":t[12]||(t[12]=c=>se(L)?L.value=c:null),class:"w-60",ui:{container:"items-start"}},{default:z(()=>[vs,n("div",fs,[ie(C(E,{modelValue:l(k).accessPointNumber,"onUpdate:modelValue":t[8]||(t[8]=c=>l(k).accessPointNumber=c),"data-maska":"#####",class:"text-xl w-24 mb-2",placeholder:"Room number"},null,8,["modelValue"]),[[ue]]),ie(C(E,{modelValue:l(k).macAddress,"onUpdate:modelValue":t[9]||(t[9]=c=>l(k).macAddress=c),"data-maska":"**:**:**:**:**:**",placeholder:"MAC:Address",class:"pb-2"},null,8,["modelValue"]),[[ue]]),C(E,{modelValue:l(k).comment,"onUpdate:modelValue":t[10]||(t[10]=c=>l(k).comment=c),placeholder:"Comment"},null,8,["modelValue"]),n("div",ms,[C(ne,{label:"Submit",onClick:Ke}),ps,C(ne,{label:"Cancel",color:"red",onClick:t[11]||(t[11]=c=>L.value=!1)})])])]),_:1},8,["modelValue"])],64)}}},bs=ke(ys,[["__scopeId","data-v-621addad"]]);export{bs as default};
